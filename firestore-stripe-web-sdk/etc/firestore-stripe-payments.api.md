## API Report File for "@invertase/firestore-stripe-payments"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { FirebaseApp } from '@firebase/app';
import { WhereFilterOp } from '@firebase/firestore';

// @public
export interface CommonLineItemParams {
    description?: string;
    quantity?: number;
}

// @public
export interface CommonSessionCreateParams {
    allow_promotion_codes?: boolean;
    automatic_tax?: boolean;
    cancel_url?: string;
    client_reference_id?: string;
    metadata?: {
        [key: string]: any;
    };
    mode?: "subscription" | "payment";
    payment_method_types?: PaymentMethodType[];
    promotion_code?: string;
    success_url?: string;
    tax_id_collection?: boolean;
    trial_from_plan?: boolean;
}

// @public (undocumented)
export const CREATE_SESSION_TIMEOUT_MILLIS: number;

// @public
export function createCheckoutSession(payments: StripePayments, params: SessionCreateParams, options?: CreateCheckoutSessionOptions): Promise<Session>;

// @public
export interface CreateCheckoutSessionOptions {
    timeoutMillis?: number;
}

// @public
export function getCurrentUserPayment(payments: StripePayments, paymentId: string): Promise<Payment>;

// @public (undocumented)
export function getCurrentUserPayments(payments: StripePayments, options?: GetPaymentsOptions): Promise<Payment[]>;

// @public
export function getCurrentUserSubscription(payments: StripePayments, subscriptionId: string): Promise<Subscription>;

// @public
export function getCurrentUserSubscriptions(payments: StripePayments, options?: GetSubscriptionsOptions): Promise<Subscription[]>;

// @public
export interface GetPaymentsOptions {
    status?: PaymentStatus | PaymentStatus[];
}

// @public
export function getPrice(payments: StripePayments, productId: string, priceId: string): Promise<Price>;

// @public
export function getPrices(payments: StripePayments, productId: string): Promise<Price[]>;

// @public
export function getProduct(payments: StripePayments, productId: string, options?: GetProductOptions): Promise<Product>;

// @public
export interface GetProductOptions {
    includePrices?: boolean;
}

// @public
export function getProducts(payments: StripePayments, options?: GetProductsOptions): Promise<Product[]>;

// @public
export interface GetProductsOptions {
    activeOnly?: boolean;
    includePrices?: boolean;
    limit?: number;
    where?: WhereFilter[];
}

// @public
export function getStripePayments(app: FirebaseApp, options: StripePaymentsOptions): StripePayments;

// @public
export interface GetSubscriptionsOptions {
    status?: SubscriptionStatus | SubscriptionStatus[];
}

// @public
export interface LineItem {
    amount?: number;
    currency?: string;
    description?: string;
    name?: string;
    price?: string;
    quantity?: number;
}

// @public
export type LineItemParams = PriceIdLineItemParams;

// @public
export interface LineItemSessionCreateParams extends CommonSessionCreateParams {
    // (undocumented)
    line_items: LineItemParams[];
}

// @public
export function onCurrentUserPaymentUpdate(payments: StripePayments, onUpdate: (snapshot: PaymentSnapshot) => void, onError?: (error: StripePaymentsError) => void): () => void;

// @public
export function onCurrentUserSubscriptionUpdate(payments: StripePayments, onUpdate: (snapshot: SubscriptionSnapshot) => void, onError?: (error: StripePaymentsError) => void): () => void;

// @public
export interface Payment {
    // (undocumented)
    readonly [propName: string]: any;
    readonly amount: number;
    readonly amount_capturable: number;
    readonly amount_received: number;
    readonly created: string;
    readonly currency: string;
    readonly customer: string | null;
    readonly description: string | null;
    readonly id: string;
    readonly invoice: string | null;
    readonly metadata: {
        [name: string]: string;
    };
    readonly payment_method_types: string[];
    readonly prices: Array<{
        product: string;
        price: string;
    }>;
    readonly status: PaymentStatus;
    readonly uid: string;
}

// @public
export type PaymentChangeType = "added" | "modified" | "removed";

// @public
export type PaymentMethodType = "card" | "acss_debit" | "afterpay_clearpay" | "alipay" | "bacs_debit" | "bancontact" | "boleto" | "eps" | "fpx" | "giropay" | "grabpay" | "ideal" | "klarna" | "oxxo" | "p24" | "sepa_debit" | "sofort" | "wechat_pay";

// @public
export interface PaymentSnapshot {
    changes: Array<{
        type: PaymentChangeType;
        payment: Payment;
    }>;
    empty: boolean;
    payments: Payment[];
    size: number;
}

// @public
export type PaymentStatus = "requires_payment_method" | "requires_confirmation" | "requires_action" | "processing" | "requires_capture" | "cancelled" | "succeeded";

// @public
export interface Price {
    // (undocumented)
    readonly [propName: string]: any;
    readonly active: boolean;
    readonly currency: string;
    readonly description: string | null;
    readonly id: string;
    readonly interval: "day" | "month" | "week" | "year" | null;
    readonly interval_count: number | null;
    readonly product: string;
    readonly trial_period_days: number | null;
    readonly type: "one_time" | "recurring";
    readonly unit_amount: number | null;
}

// @public
export interface PriceIdLineItemParams extends CommonLineItemParams {
    price: string;
}

// @public
export interface PriceIdSessionCreateParams extends CommonSessionCreateParams {
    price: string;
    quantity?: number;
}

// @public
export interface Product {
    // (undocumented)
    readonly [propName: string]: any;
    readonly active: boolean;
    readonly description: string | null;
    readonly id: string;
    readonly images: string[];
    readonly metadata: {
        [key: string]: string | number | null;
    };
    readonly name: string;
    readonly prices: Price[];
    readonly role: string | null;
}

// @public
export interface Session {
    readonly allow_promotion_codes?: boolean;
    readonly automatic_tax?: boolean;
    readonly cancel_url: string;
    readonly client_reference_id?: string;
    readonly created_at: string;
    readonly id: string;
    readonly line_items?: LineItem[];
    readonly metadata?: {
        [key: string]: any;
    };
    readonly mode: "subscription" | "payment";
    readonly payment_method_types?: PaymentMethodType[];
    readonly price?: string;
    readonly promotion_code?: string;
    readonly quantity?: number;
    readonly success_url: string;
    readonly tax_id_collection?: boolean;
    readonly trial_from_plan?: boolean;
    readonly url: string;
}

// @public
export type SessionCreateParams = LineItemSessionCreateParams | PriceIdSessionCreateParams;

// @public
export class StripePayments {
    // (undocumented)
    readonly app: FirebaseApp;
    get customersCollection(): string;
    get productsCollection(): string;
}

// @public
export class StripePaymentsError extends Error {
    constructor(code: StripePaymentsErrorCode, message: string, cause?: any);
    // (undocumented)
    readonly cause?: any;
    // (undocumented)
    readonly code: StripePaymentsErrorCode;
    // (undocumented)
    readonly message: string;
}

// @public
export type StripePaymentsErrorCode = "deadline-exceeded" | "not-found" | "permission-denied" | "unauthenticated" | "internal";

// @public
export interface StripePaymentsOptions {
    // (undocumented)
    customersCollection: string;
    // (undocumented)
    productsCollection: string;
}

// @public
export interface Subscription {
    // (undocumented)
    readonly [propName: string]: any;
    readonly cancel_at: string | null;
    readonly cancel_at_period_end: boolean;
    readonly canceled_at: string | null;
    readonly created: string;
    readonly current_period_end: string;
    readonly current_period_start: string;
    readonly ended_at: string | null;
    readonly id: string;
    readonly metadata: {
        [name: string]: string;
    };
    readonly price: string;
    readonly prices: Array<{
        product: string;
        price: string;
    }>;
    readonly product: string;
    readonly quantity: number | null;
    readonly role: string | null;
    readonly status: SubscriptionStatus;
    readonly stripe_link: string;
    readonly trial_end: string | null;
    readonly trial_start: string | null;
    readonly uid: string;
}

// @public
export type SubscriptionChangeType = "added" | "modified" | "removed";

// @public
export interface SubscriptionSnapshot {
    changes: Array<{
        type: SubscriptionChangeType;
        subscription: Subscription;
    }>;
    empty: boolean;
    size: number;
    subscriptions: Subscription[];
}

// @public
export type SubscriptionStatus = "active" | "canceled" | "incomplete" | "incomplete_expired" | "past_due" | "trialing" | "unpaid";

// @public
export type WhereFilter = [string, WhereFilterOp, any];

export { WhereFilterOp }

// (No @packageDocumentation comment for this package)

```
